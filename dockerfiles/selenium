FROM python:3.8-alpine3.11

WORKDIR /app
COPY ./require/Pipfile-selenium ./
COPY ./require/Pipfile-selenium.lock ./
COPY ./script/selenium.py ./

RUN apk update && \
  apk add --virtual .build --no-cache chromium && \
  pip install --no-cache-dir --upgrade pip setuptools wheel && \
  pip install --no-cache-dir pipenv \
  pipenv install

ENTRYPOINT ["pipenv", "shell"]
